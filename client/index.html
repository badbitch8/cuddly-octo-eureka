<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>MUT  Attendance Manager</title>
	<link rel="stylesheet" href="index.css" >
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
	<header class="main-header">
		<div class="header-content">
			<div class="header-back">
				<button id="back-btn" class="ghost hidden">‚Üê</button>
			</div>
			<div class="header-left">
		<div class="logo">
			<img src="https://www.mut.ac.ke/wp-content/uploads/2020/07/MUT-Logo.png" alt="MUT Logo" class="mut-logo" style="height: 40px;">
			<h1>üìö MUT Attendance Manager</h1>

		</div>
			</div>
			<div class="header-center">
				<div class="header-info">
					<h2 id="header-title" class="hidden">Welcome, <span id="lecturer-name"></span></h2>
					<h2 id="header-unit-title" class="hidden"><span id="unit-title"></span></h2>
					<p id="header-date" class="muted hidden"></p>
				</div>
			</div>
			<div class="header-right">
				<div id="header-actions" class="hidden">
					<button id="download-btn" class="secondary">Download CSV</button>
					<button id="reset-btn" class="ghost">Reset</button>
					<button id="manage-unit-btn" class="ghost">Manage unit</button>
				</div>
				<button id="logout-btn" class="ghost hidden">Log out</button>
			</div>
		</div>
	</header>

	<main id="app">
		<!-- Auth Views -->
		<section id="auth-view" class="view">
			<div class="card">
				<h2>Welcome to MUT Attendance</h2>
				<p>Interactive  Campus Management</p>

				<form id="login-form" class="form">
					<label>Email
						<input type="email" id="login-email" required autocomplete="email" />
					</label>
					<label>Password
						<input type="password" id="login-password" required autocomplete="current-password" />
					</label>
					<button type="submit" class="primary">Log in</button>
					<div class="links-row">
						<a href="#" id="link-to-signup">Don't have an account? Sign up</a>
						<a href="#" id="link-forgot">Forgot password?</a>
					</div>
				</form>

				<form id="signup-form" class="form hidden">
					<label>Full name
						<input type="text" id="signup-name" required />
					</label>
					<label>Email
						<input type="email" id="signup-email" required autocomplete="email" />
					</label>
					<label>Password
						<input type="password" id="signup-password" required minlength="6" autocomplete="new-password" />
					</label>
					<label>Role
						<select id="signup-role" required>
							<option value="student">Student</option>
							<option value="faculty">Faculty</option>
							<option value="admin">Admin</option>
						</select>
					</label>
					<button type="submit" class="primary">Create account</button>
					<div class="links-row">
						<a href="#" id="link-to-login">Already have an account? Log in</a>
					</div>
				</form>
			</div>
		</section>

		<!-- 3D Campus View -->
		<section id="campus-view" class="view hidden">
			<canvas id="3d-canvas"></canvas>
			<div id="campus-ui" class="campus-overlay hidden">
				<h3 id="campus-title">MUT Campus</h3>
				<p>Click on buildings to access features</p>
			</div>
		</section>

		<!-- Unit/Course Setup View -->
		<section id="unit-view" class="view hidden">
			<div class="card">
				<h3>Select Course</h3>
				<form id="unit-form" class="form row">
					<label>Course name
						<input list="unit-name-list" type="text" id="unit-name" placeholder="e.g., Introduction to Computing" required />
						<datalist id="unit-name-list"></datalist>
					</label>
					<label>Course code
						<input list="unit-code-list" type="text" id="unit-code" placeholder="e.g., BIT101" required />
						<datalist id="unit-code-list"></datalist>
					</label>
					<button type="submit" class="primary">Load Course</button>
				</form>
			</div>
		</section>

		<!-- Faculty Dashboard (Attendance Marking) -->
		<section id="faculty-dashboard" class="view hidden">
			<div class="card">
				<h3 id="faculty-course-title">Mark Attendance</h3>
				<div class="list-head">
					<div>Name</div>
					<div>Reg No</div>
					<div>Status</div>
				</div>
				<div id="faculty-students-list" class="list"></div>
				<button id="faculty-download" class="primary">Generate Report</button>
			</div>
		</section>

		<!-- Student Dashboard -->
		<section id="student-dashboard" class="view hidden">
			<div class="card">
				<h3>Your Attendance</h3>
				<div id="student-attendance-list"></div>
				<canvas id="student-chart" width="400" height="200"></canvas>
			</div>
		</section>

		<!-- Admin Panel -->
		<section id="admin-panel" class="view hidden">
			<div class="card">
				<h3>Admin Reports</h3>
				<select id="admin-course-select">
					<option value="">All Courses</option>
				</select>
				<button id="admin-generate-report" class="primary">Generate Report</button>
				<div id="admin-report"></div>
				<canvas id="admin-chart" width="400" height="200"></canvas>
			</div>
		</section>

		<!-- Dashboard View (legacy, for unit students) -->
		<section id="dashboard-view" class="view hidden">
			<div class="card">
				<div class="list-head">
					<div>Name</div>
					<div>Reg_No</div>
					<div>Status</div>
				</div>
				<div id="students-list" class="list"></div>
			</div>
		</section>
	</main>

	<footer class="main-footer">
		<div class="footer-content">
		<div class="footer-info">
			<p>&copy; 2024 Murang'a University of Technology. All rights reserved.</p>
			<p>Interactive Attendance Management System</p>
		</div>
			<div class="footer-links">
				<a href="#" class="footer-link">Help</a>
				<a href="#" class="footer-link">Privacy</a>
				<a href="#" class="footer-link">Terms</a>
			</div>
		</div>
	</footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="index.js"></script>
</body>
</html>